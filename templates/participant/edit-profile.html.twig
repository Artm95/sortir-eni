{% extends 'base.html.twig' %}
{% form_theme userForm 'bootstrap_4_layout.html.twig' %}

{% block title %}{{title}}{% endblock %}

{% block body %}

    <h1>{{title}}</h1>

    <div class="row">
        <div class="col-12 col-md-5">
            <div style="height: 250px; width: 250px; border-radius:50%; overflow: hidden;">
                {% if userPhoto %}
                    <img style="width: 100%; height: 100%; object-fit:cover;" src="{{ asset('uploads/'~userPhoto) }}" alt="user avatar">
                {% else %}
                    <img style="width: 100%; height: 100%; object-fit:cover;" src="{{ asset('images/default-avatar.png') }}" alt="user avatar">
                {% endif %}
            </div>
        </div>
        <div class="col-12 col-md-7">
            <div class="form">
                {{ form_start(userForm)}}
                {{ form_widget(userForm)}}

                <button type="submit" class="btn btn-primary">Envoyer</button>
                <a href="{{path("event")}} " class="btn btn-secondary">Annuler</a>
                {{ form_end(userForm)}}
            </div>
        </div>
    </div>
    
{% endblock %}

{% block javascripts %}

    {#    script to fix the bug of file input rendering#}
    <script>
        document.querySelector('.custom-file-input').addEventListener('change', function(event) {
            let inputFile = event.currentTarget;
            inputFile.parentNode.querySelector('.custom-file-label')
                .innerHTML = inputFile.files[0].name;
        });
    </script>
{% endblock %}