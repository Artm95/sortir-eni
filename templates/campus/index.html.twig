{% extends 'base.html.twig' %}
{% form_theme form 'bootstrap_4_layout.html.twig' %}

{% block title %}{{ title }}{% endblock %}

{% block body %}

    <h1>{{ title }}</h1>
    <div class="card p-2">
        <div class="d-flex flex-row justify-content-around">
            <div class="form mt-3 mb-3">
                {{ form_start(form) }}
                {{ form_widget(form) }}
                <button type="submit" class="btn btn-primary">{{ action }}</button>
                <a class="btn btn-secondary" href="{{ action is same as('Modifier') ? path('admin_campuses') : path('event') }}">Annuler</a>
                {{ form_end(form) }}
            </div>
        </div>
        <div class="mt-4 row justify-content-center">
            <div class="col-auto">
                <form class="d-flex mb-2" id="search-form">
                    <input class="form-control mr-sm-2" type="search" placeholder="Rechercher un campus" aria-label="Search" id="search-input">
                    <button class="btn btn-primary my-2 my-sm-0" type="submit" id="search-btn">Rechercher</button>
                </form>

                <table class="table text-center table-responsive" >
                    <thead>
                    <tr>
                        <th>Nom</th>
                        <th>Actions</th>
                    </tr>
                    </thead>
                    <tbody id="campuses-table-body">

                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="modal fade" id="confirm-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content text-dark">
                <div class="modal-header">
                    <h5 class="modal-title">Êtes-vous sur de vouloir supprimer ce campus ?</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p><i class="fas fa-exclamation-triangle mr-2 text-danger"></i> Attention si vous supprimez le campus, tous les utilisateurs liés au celui-ci seront supprimés également</p>
                </div>
                <div class="modal-footer">
                    <a type="button" id="modal-delete-btn" class="btn btn-danger">Supprimer</a>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Annuler</button>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    <script>
        const pathGetCampus = "{{ path('campus_get')}}";
        let editPath = "{{ path('admin_campus_edit', { id: '1' }) }}";
        let deletePath = "{{ path('admin_campus_delete', { id: '1' }) }}"
    </script>
    <script src="{{ asset('js/filterCampuses.js') }}" ></script>
{% endblock %}



